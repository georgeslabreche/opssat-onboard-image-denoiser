[conf]
downlink_log_if_no_images           = yes
entry_point_model                   = default
downlink_thumbnails                 = yes
downlink_compressed_raws            = no
downlink_compressed_split           = 10M
raw_compression_type                = fapec
collect_metadata                    = yes
tle_path                            = /etc/tle
quota_toGround                      = 100000
max_error_count                     = 10

[camera]
cam_exposure                        = 2
cam_gains                           = [8,8,8]

[gen]
gen_type                            = aoi
gen_interval_default                = 0.5
gen_interval_throttle               = 0
gen_number                          = 10
gen_geojson                         = aois/continents.json

[img]
raw_keep                            = no
png_keep                            = no

[jpeg]
jpeg_scaling                        = 0.3
jpeg_quality                        = 100

[compression_fapec]
chunk                               = 512K
threads                             = 1
dtype                               = 16
band                                = 1
losses                              = x10
meaningful_bits                     = 12
lev                                 = 5

[clustering]
cluster                             = no
cluster_for_labels                  = ["earth"]
cluster_k                           = 4
cluster_collect_threshold           = 10
cluster_img_types                   = ["jpeg","png","ims_rgb","fapec"]

[model_default]
default.tflite_model                = models/default/model.tflite
default.labels                      = models/default/labels.txt
default.labels_keep                 = ["earth:noiser"]
default.input_height                = 224
default.input_width                 = 224
default.input_mean                  = 0
default.input_std                   = 255
default.confidence_threshold        = 0.70

[model_noiser]
noiser.bin_model                    = /home/exp253/noiser
noiser.labels                       = /home/exp253/noiser.txt
noiser.labels_keep                  = ["noised:default2"]
noiser.input_format                 = jpeg
noiser.write_mode                   = 3
noiser.args                         = -r 224x224 -t 1 -n 50 -q 100
noiser.confidence_threshold         = 1

[model_default2]
default2.tflite_model               = models/default/model.tflite
default2.labels                     = models/default/labels.txt
default2.labels_keep                = ["earth:denoiser","edge:denoiser","bad:denoiser"]
default2.input_height               = 224
default2.input_width                = 224
default2.input_mean                 = 0
default2.input_std                  = 255
default2.confidence_threshold       = 0.30

[model_denoiser]
denoiser.bin_model                  = /home/exp253/denoiser
denoiser.labels                     = /home/exp253/denoiser.txt
denoiser.labels_keep                = ["denoised:default3"]
denoiser.input_format               = jpeg
denoiser.write_mode                 = 3
denoiser.args                       = -q 100 -m /home/exp253/models/denoiser_ae_fnp50.tflite
denoiser.confidence_threshold       = 1

[model_default3]
default3.tflite_model               = models/default/model.tflite
default3.labels                     = models/default/labels.txt
default3.labels_keep                = ["earth","edge","bad"]
default3.input_height               = 224
default3.input_width                = 224
default3.input_mean                 = 0
default3.input_std                  = 255
default3.confidence_threshold       = 0.40

[model_kmeans_imgseg]
kmeans_imgseg.bin_model             = bin/armhf/kmeans/image_segmentation
kmeans_imgseg.labels                = models/kmeans_imgseg/labels.txt
kmeans_imgseg.labels_keep           = ["cloudy_0_25","cloudy_26_50","cloudy_51_75","cloudy_76_100","features"]
kmeans_imgseg.input_format          = jpeg
kmeans_imgseg.write_mode            = 1
kmeans_imgseg.args                  = -k 2 -p BW
kmeans_imgseg.confidence_threshold  = 0.70

[model_TBD]
TBD.tflite_model                    = models/TBD/model.tflite
TBD.labels                          = models/TBD/labels.txt
TBD.labels_keep                     = []
TBD.input_height                    = 224
TBD.input_width                     = 224
TBD.input_mean                      = 0
TBD.input_std                       = 255
TBD.confidence_threshold            = 0.70
